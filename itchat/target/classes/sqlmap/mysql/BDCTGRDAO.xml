<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<!-- 
	파일명 : CCFAQBDM.xml
	파일설명 : FAQ 문의 쿼리문
	변경내용
		수정일			수정자              수정내용
	========		======		==============	
	2018.08.24		ITU103		신규등록
 -->
 
 <mapper namespace="com.yokipa.itchat.admin.service.dao.BDCTGRDAO">
 
 	<sql id="selectColumn">
 	
 	 FAQ_PST_NO AS	faqPstNo	
	,FAQ_CTGR_C	AS	faqCtgrC
	,FAQ_PST_TTL	AS	faqPstTtl
	,FAQ_PST_TXT    AS	faqPstTxt
	,FST_RGT_WKR_ID       AS	fstRgtWkrId
	,FST_RGT_DTM     AS	fstRgtDtm
	,LST_MDF_WKR_ID  AS	lstMdfWkrId
	,LST_MDF_DTM AS	lstMdfDtm

	</sql>
  <!-- 고객문의답변 목록 페이징처리-->
 <select id="pageList" parameterType="qnaPstSrchDto" resultType="ccqnabdlVo">
		SELECT /* com.nthb.appl.cm.service.dao.CCQNABDLDAO.pagelist */
			 QNA_PST_NO   AS    qnaPstNo
			,FAQ_UP_CTGR_C    AS faqUpCtgrC
			,QNA_PST_TTL        AS qnaPstTtl
			,LST_MDF_WKR_ID    AS lstMdfWkrId
			,LST_MDF_DTM	 	AS lstMdfDtm
		FROM
			CCQNABDL
		<where> 
			<if test="nxt1keyval != null and nxt1keyval != '' ">
				AND (QNA_PST_NO = #{nxt1keyval} OR QNA_PST_NO &gt; #{nxt1keyval}) 
			</if>
		</where>
		ORDER BY
			QNA_PST_NO DESC
		LIMIT 
			0, #{pagePerCnt}			
 </select>
 </mapper>